(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{9672:function(e,t,a){Promise.resolve().then(a.bind(a,8731))},8731:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return y}});var r=a(7437),n=a(8575),o=a(1455),i=a(2504),s=a(8846),c=a(4216),d=a(9290),u=a(2946),l=e=>t=>a=>{let r=t(a);if(a.type===u.gn.type||a.type===u.O4.type){let t=e.getState().basket.basket;localStorage.setItem("basket",JSON.stringify(t))}return r};let g=(0,o.xC)({reducer:{topSales:i.yC.reducer,catalog:s.Gl.reducer,categories:c.S$.reducer,product:d.mh.reducer,basket:u.Cy.reducer},middleware:e=>e().concat(l)});function f(e){let{children:t}=e;return(0,r.jsx)(n.zt,{store:g,children:t})}function y(e){let{children:t}=e;return(0,r.jsx)(f,{children:(0,r.jsx)("html",{lang:"en",children:(0,r.jsx)("body",{children:t})})})}a(4798),a(7960)},1186:function(e,t,a){"use strict";a.d(t,{CP:function(){return i},Cb:function(){return c},QC:function(){return o},ax:function(){return d},kk:function(){return s},mv:function(){return u}});var r=a(3464);let n="http://localhost:7070/api/";async function o(){try{return(await r.Z.get(n+"top-sales")).data}catch(e){throw console.log("getTopSales API error:"+e),Error("Ошибка getTopSales API")}}async function i(){try{return(await r.Z.get(n+"categories")).data}catch(e){throw console.log("getCategories API error:"+e),Error("Ошибка getCategories API")}}async function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;try{let a=n+"items";if(0===e&&0===t)return(await r.Z.get(a)).data;if(0!==e&&0===t)return(await r.Z.get(a,{params:{categoryId:e}})).data;return(await r.Z.get(a,{params:{categoryId:e,offset:t}})).data}catch(e){throw console.log("getItems API error:"+e),Error("Ошибка getItems API")}}async function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";try{return(await r.Z.get(n+"items/",{params:{categoryId:e,offset:t,q:a}})).data}catch(e){throw console.log("getItemsBySearch API error:"+e),Error("Ошибка getItemsBySearch API")}}async function d(e){try{return(await r.Z.get(n+"items/".concat(e))).data}catch(e){throw console.log("getProductByID API error:"+e),Error("Ошибка getProductByID API")}}async function u(e){try{return await r.Z.post(n+"order",e)}catch(e){throw console.log("postOrder API error:"+e),Error("Ошибка postOrder API")}}},2946:function(e,t,a){"use strict";a.d(t,{Cy:function(){return r},O4:function(){return o},QB:function(){return n},gn:function(){return i}});let r=(0,a(1455).oM)({name:"basket",initialState:{basket:[],isLoading:!0},reducers:{setProductToBasket:(e,t)=>{e.basket.some(e=>e.id===t.payload.id)?e.basket.forEach(e=>{e.id===t.payload.id&&e.size===t.payload.size&&(e.quantity+=t.payload.quantity)}):e.basket=[...e.basket,t.payload]},setBasket:(e,t)=>{e.basket=t.payload},deleteProductFromBasket:(e,t)=>{e.basket=e.basket.filter(e=>e.id!==t.payload)}}});r.reducer;let{setBasket:n,deleteProductFromBasket:o,setProductToBasket:i}=r.actions},8846:function(e,t,a){"use strict";a.d(t,{DY:function(){return o},Gl:function(){return c},Qr:function(){return g},VB:function(){return s},fY:function(){return l},m_:function(){return i},nb:function(){return y},sW:function(){return f},uA:function(){return u},zL:function(){return d}});var r=a(1455),n=a(1186);let o=(0,r.hg)("catalog1/fetchCatalogItems",async e=>{let{category:t,offset:a}=e;return await (0,n.kk)(t,a)}),i=(0,r.hg)("catalog2/fetchGetItemByCatalog",async e=>{let{category:t,offset:a}=e;return await (0,n.kk)(t,a)}),s=(0,r.hg)("catalog3/fetchSearch",async e=>{let{category:t,offset:a,q:r}=e;return await (0,n.Cb)(t,a,r)}),c=(0,r.oM)({name:"catalog",initialState:{catalog:[],categoryId:0,offset:6,isLoading:!1,searchText:"",showMoreFlag:!0},reducers:{setCategoryId:(e,t)=>{e.categoryId=t.payload},incrementOffset:e=>{e.offset+=6},setShowMoreFlag:(e,t)=>{e.showMoreFlag=t.payload},setOffset:e=>{e.offset=6},setSaerchText:(e,t)=>{e.searchText=t.payload},setCatalog:(e,t)=>{e.catalog=t.payload}},extraReducers:e=>{e.addCase(o.fulfilled,(e,t)=>{e.catalog=t.payload,e.isLoading=!0,t.payload.length<6&&(e.showMoreFlag=!1)}).addCase(o.pending,e=>{e.isLoading=!1}).addCase(o.rejected,e=>{e.isLoading=!1}).addCase(i.fulfilled,(e,t)=>{e.catalog=[...e.catalog,...t.payload],e.isLoading=!0,t.payload.length<6&&(e.showMoreFlag=!1)}).addCase(i.pending,e=>{e.isLoading=!1}).addCase(i.rejected,e=>{e.isLoading=!1}).addCase(s.fulfilled,(e,t)=>{e.catalog=[...e.catalog,...t.payload],t.payload.length<6&&(e.showMoreFlag=!1),e.isLoading=!0}).addCase(s.pending,e=>{e.isLoading=!1}).addCase(s.rejected,e=>{e.isLoading=!1})}}),{setShowMoreFlag:d,setCategoryId:u,setCatalog:l,setSaerchText:g,incrementOffset:f,setOffset:y}=c.actions;c.reducer},4216:function(e,t,a){"use strict";a.d(t,{S$:function(){return i},pE:function(){return o}});var r=a(1455),n=a(1186);let o=(0,r.hg)("categories/fetchCategoriesItems",async()=>await (0,n.CP)()),i=(0,r.oM)({name:"categories",initialState:{categories:[],isLoading:!0},reducers:{},extraReducers:e=>{e.addCase(o.fulfilled,(e,t)=>{e.categories=t.payload,e.isLoading=!0}).addCase(o.pending,e=>{e.isLoading=!1}).addCase(o.rejected,e=>{e.isLoading=!1})}});i.reducer},9290:function(e,t,a){"use strict";a.d(t,{M$:function(){return c},X1:function(){return l},dQ:function(){return o},g1:function(){return u},hH:function(){return s},mh:function(){return i},yk:function(){return d}});var r=a(1455),n=a(1186);let o=(0,r.hg)("product/axiosGetProduct",async e=>await (0,n.ax)(e)),i=(0,r.oM)({name:"product",initialState:{product:{id:0,category:0,title:"",images:[""],sku:"",manufacturer:"",color:"",material:"",reason:"",season:"",heelSize:"",price:0,sizes:[{size:"",available:!0}]},isSelected:!1,isLoading:!0,quantity:1,choosenSize:""},reducers:{incrementQuantity:e=>{10!==e.quantity&&(e.quantity+=1)},decrementQuantity:e=>{1!==e.quantity&&(e.quantity-=1)},setSize:(e,t)=>{e.choosenSize=t.payload},setQuantity:e=>{e.quantity=1},setIsSelectedSlice:(e,t)=>{e.isSelected=t.payload}},extraReducers:e=>{e.addCase(o.fulfilled,(e,t)=>{e.product=t.payload,e.isLoading=!0}).addCase(o.pending,e=>{e.isLoading=!1}).addCase(o.rejected,e=>{e.isLoading=!1})}});i.reducer;let{setIsSelectedSlice:s,setQuantity:c,setSize:d,incrementQuantity:u,decrementQuantity:l}=i.actions},2504:function(e,t,a){"use strict";a.d(t,{B:function(){return o},yC:function(){return i}});var r=a(1455),n=a(1186);let o=(0,r.hg)("get/fetchTopSales",async()=>await (0,n.QC)()),i=(0,r.oM)({name:"topSales",initialState:{sales:[],isLoading:!1},reducers:{},extraReducers:e=>{e.addCase(o.fulfilled,(e,t)=>{e.sales=t.payload,e.isLoading=!0}).addCase(o.pending,e=>{e.isLoading=!1}).addCase(o.rejected,e=>{e.isLoading=!0})}});i.reducer},7960:function(){},4798:function(){}},function(e){e.O(0,[669,587,948,971,117,744],function(){return e(e.s=9672)}),_N_E=e.O()}]);